Download Link: https://assignmentchef.com/product/solved-cop290-assignment1-working-with-makefiles
<br>
Create a Directory TopUnder this create 4 sub directories 1,2,3 4In each of these sub directories, create a small C function: An example is givenbelow:./Top/1/mySqr.cint mySquare(int x){return x*x;}./Top/2/myPythonInC.c#define PY_SSIZE_T_CLEAN#include &lt;Python.h&gt;int myPythonInC(int argc, char *argv[]){wchar_t *program = Py_DecodeLocale(argv[0], NULL);if (program == NULL) {fprintf(stderr, “Fatal error: cannot decode argv[0]
”);exit(1);}Py_SetProgramName(program); /* optional but recommended */Py_Initialize();PyRun_SimpleString(“from time import time,ctime
”“print(‘Today is’, ctime(time()))
”);if (Py_FinalizeEx() &lt; 0) {exit(120);}PyMem_RawFree(program);return 0;}And similarly with other programming languages or scripts in sub directories 3and 4.Write the application in the parent directory — something similar to thefollowing:./Top/myApp.c#include &lt;stdio.h&gt;extern mySquare();extern myPythonInC();int main(int argc, char *argv[]){int a=3,b;b= mySquare(a);printf(“%d
”,b);myPythonInC(1,argv);}Have a makefile in each directory of this hierarchy. The Makefile in ./Top shouldrecursively call make in all the sub directories.Do’s:Create object files in a subdirectory called objCreate final executable in a subdirectory called exeSet global options only in the parentHave multiple targets in your makefile (for example clean, all, RUN, only certainfunctions etc –be creative J )Brownie Points:Use shell creativelyDon’ts:Have a single Makefile replicated in all directories.Notes:Compilation string for python embedding in C (this is machine specific)-I/usr/include/python3.6 -lpython3.6m